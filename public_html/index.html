<!DOCTYPE html>
<html lang="en-gb">
    <head>
		<title>Hive Sense V2 Demo</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="css/bootstrap_blr.css" rel="stylesheet" media="screen" />
		<link href="css/main.css" rel="stylesheet" media="screen" />
		<style>

		</style>
		<link href="css/bootstrap-responsive.css" rel="stylesheet" media="screen">
    </head>
    <body>

		<div class="navbar navbar-static-top">
			<div class="navbar-inner">
				<div class="container">
					<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="brand" href="./">HiveSenseV2</a>
					<div class="nav-collapse collapse">
						<ul class="nav">
							<li id="li-home" class="active"><a href="#">Home</a></li>
							<li id="li-graphs"><a href="#">Graphs</a></li>
							<li id="li-history"><a href="#">History</a></li>
							<li id="li-about"><a href="#">About</a></li>
							<li id="li-settings"><a href="#" style="padding:0;">
									<img src="img/gear2.png" width="40" height="40" alt="settings" title="Change Application Settings" style="padding-left: 1em;" />
								</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div id="settings" class="container hiddenTab">
			<h1 id="top0">Application Settings</h1>
			<div class="row">
				<div class="span2">
					<button id="settings-save" type="button" class="btn btn-primary">Save</button>
					<span id="settings-saved" class="label label-success hiddenTab" style="margin:0.5em;">Success</span>
				</div>

				<div class="span10">
					<div>Local Weather Source (Enter name of any city or major town in the UK)</div>
					<input id="wxPlace" type="text" placeholder="Name of City" />

					<div>
						More settings will be added as required
					</div>
				</div>
			</div>
		</div>

		<div id="home" class="container">
			<h1 id="top">Live Feed from Hive UCL</h1>

			<div class="row">
				<div class="span3">

					<h3>Alarms</h3>
					<table class="table-hover">
						<tbody>
<!--							<tr>
								<td><img id="alarm-swarming" src="img/LED_Blue.png" alt="" /></td>
								<td>Swarming</td>
							</tr>-->
							<tr>
								<td><img id="alarm-temp-low" src="img/LED_Blue.png" alt="" /></td>
								<td data-toggle="tooltip" title="Temperature &lt; 10 C">Too Cold</td>
							</tr>
							<tr>
								<td><img id="alarm-temp-high" src="img/LED_Blue.png" alt="" /></td>
								<td data-toggle="tooltip" title="Temperature &gt; 35 C">Too Hot</td>
							</tr>
							<tr>
								<td><img id="alarm-humi-high" src="img/LED_Blue.png" alt="" /></td>
								<td data-toggle="tooltip" title="Temperature &gt; 70 %">Too Humid</td>
							</tr>
							<tr>
								<td><img id="alarm-light-high" src="img/LED_Blue.png" alt="" /></td>
								<td data-toggle="tooltip" title="Light &gt; 20 %">Too Bright</td>
							</tr>
							<tr>
								<td><img id="alarm-moving" src="img/LED_Blue.png" alt="" /></td>
								<td data-toggle="tooltip" title="Movement in last hour">Disturbance</td>
							</tr>
						</tbody>
					</table>

					<h3>Recent Activity</h3>
					<table class="table-striped">
						<tbody>
							<tr>
								<td class="timeList">HH:mm</td>
								<td>Hive Opened</td>
							</tr>
							<tr>
								<td class="timeList">HH:mm</td>
								<td>Hive Closed</td>
							</tr>
							<tr>
								<td class="timeList">HH:mm</td>
								<td>Hive felled</td>
							</tr>
						</tbody>
					</table>

					<h3>Local Weather</h3>
					<div class="subtle"><span id="weather-place">Heathrow</span>, <span id="weather-time">HH:mm zzz</span></div>
					<span id="weather-weather">Unknown, x &deg;C</span>

					<div>
						<h3>Unit Selection</h3>
						<label class="radio">
							<input type="radio" name="units" id="unit_EU" value="EU" checked />
							Metric
						</label>
						<label class="radio">
							<input type="radio" name="units" id="unit_US" value="US" />
							Imperial
						</label>
					</div>
				</div>
				<div class="span9">
					<div class="high-line">
						<span id="updated-led" class="badge badge-success">&nbsp;</span>
						<span id="updated-date">DDDD dds MMMM, HH:mm zzz</span>
						<span class="subtle">&nbsp; <span id="updated-ago" >x tttt</span> ago</span>
					</div>
					<div class="row-fluid">
						<div class="span6">
							<div class="row-fluid">
								<div class="span12 sensor sensor-temperature">
									<div class="span4 bg-sensor bg-temperature">
										&nbsp;
									</div>
									<div class="span8 text-center">
										<div class="high-line subtle">
											<span id="sensor-value-temp1" class="sensor-value-text">xx.x C</span> in
											<span id="sensor-trend-temp1" class="arrow-level trend-arrow">&#x25ac;</span>
										</div>
										<div class="high-line subtle">
											<span id="sensor-value-temp2" class="sensor-value-text">xx.x C</span> out
											<span id="sensor-trend-temp2" class="arrow-level trend-arrow">&#x25ac;</span>
										</div>
										<div class="high-line subtle">
											<span id="sensor-value-temp3" class="sensor-value-text">+x.x C</span> diff
											<span id="sensor-trend-temp3" class="arrow-level trend-arrow">&#x25ac;</span>
										</div>
									</div>
								</div>
							</div>

						</div>
						<div id="sensor-graph-temp" class="span6"></div>
					</div>

					<div class="row-fluid">
						<div class="span6">
							<div class="row-fluid">
								<div class="span12 sensor sensor-humidity">
									<div class="span5 bg-sensor bg-humidity">
										&nbsp;
									</div>
									<div class="span7 text-center text-sensor">
										<div class="high-line subtle">
											<span id="sensor-value-humi" class="sensor-value-text">xx %</span> in
											<span id="sensor-trend-humi" class="arrow-level trend-arrow">&#x25ac;</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div id="sensor-graph-humi" class="span6"></div>
					</div>

					<div class="row-fluid">
						<div class="span6">
							<div class="row-fluid">
								<div class="span12 sensor sensor-light">
									<div class="span5 bg-sensor bg-light">
										&nbsp;
									</div>
									<div class="span7 text-center text-sensor">
										<div class="high-line subtle">
											<span id="sensor-value-light" class="sensor-value-text">xx %</span> in
											<span id="sensor-trend-light" class="arrow-level trend-arrow">&#x25ac;</span>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div id="sensor-graph-light" class="span6"></div>
					</div>

					<div class="row-fluid">
						<div class="span6">
							<div class="row-fluid">
								<div class="span12 sensor sensor-motion">
									<div class="span5 bg-sensor bg-hive">
										&nbsp;
									</div>
									<div class="span7 text-center text-sensor">
										<span id="sensor-value-motion" class="motion-no sensor-value-text">Stationary</span>
										<br />
										<span id="sensor-trend-motion" class="subtle">Last motion HH:mm, DDDD</span>
									</div>
								</div>
							</div>
							<div id="sensor-graph-motion" class="span6"></div>

						</div>
						<div class="span6">
							<img id="camera" class="img-rounded" title="imagine you're looking at bees around the hive entrance"
								 src="img/bee3.png" alt="hive pic" width="260" height="195" />
						</div>
					</div>
				</div>

			</div>
		</div>

		<div class="hiddenTab container" id="about">
			<h1 id="top2">About HiveSense</h1>
			<div class="row">
				<div class="span2">
					<h4>Useful Links</h4>
					<a href="https://github.com/blrnw3/hivesenseNodejs">Codebase on Github</a>
					<a href="http://hivesense.wordpress.com/">Hivesense blog</a>
				</div>
				<div class="span10">
					Bee-friendly monitoring systems.<br />
					Coming soon to a hive near you.

					<h2>Project Specification</h2>
					Hivesense is a project to enrich the process of monitoring beehives, using off-the-shelf hardware
					and free, open-source software. This web application, along with the device that produces the data feed, have been developed
					as part of a Masters' project at UCL running between June and August 2013. The blog linked on the left
					gives more details. The aim of this project to develop a customisable software stack that can be easily implemented by
					beekeepers across the land, and furthered by future projects. I welcome feedback and suggestions of any nature (see email in the footer).


					<h2>Credits</h2>
					<ul class="unstyled">
						<li>Graphs built with <a href="https://github.com/flot/flot">flot</a></li>
						<li>Hardware (<a href="http://www.netmf.com/gadgeteer/">Gadgeteer</a>) from Microsoft</li>
						<li>Some CSS and JS from <a href="https://github.com/twitter/bootstrap/">Bootstrap</a> was used to aid UI design, and improve UX</li>
						<li>Weather API from <a href="http://www.wunderground.com/weather/api/">Wunderground</a></li>
						<li>All static images are from <a href="http://openclipart.org/">Open ClipArt</a> so are <a href="http://creativecommons.org/about/cc0">public domain</a></li>
						<li>Various Node and client JS libraries - see the <a href="https://github.com/blrnw3/hivesenseNodejs">code listing</a> for full details</li>
						<li>Web server/application and database hosting by <a href='http://www.windowsazure.com/en-us/'>Windows Azure</a></li>
						<li>General and financial support from UCL and Microsoft (supervised by Steven Johnston).</li>
					</ul>

					<h3>Warning</h3>
					Some plots may be empty due to the intermittent nature of test data.<br />
					This web application may change drastically at any time, and without prior notice.
				</div>
			</div>
		</div>
		<div class="hiddenTab container" id="history">
			<h1 id="top3">Historical Hive Data</h1>
			<div class="row">
				<div class="span4">
					<h3>API</h3>
					<p>Data can be obtained in CSV, XML, or JSON format directly from the
					hivesense API using the base URL<br />
					http://hivesensenodejs.azurewebsites.net/feed <br />
					and appending to this URL one of the following:
					</p>

					<h5>Current Data</h5>
					?current <br />
					e.g. <a href='http://hivesensenodejs.azurewebsites.net/feed?current'>.../feed?current</a>

					<h5>Current Hivecam</h5>
					?hivecam <br />
					i.e. <a href='http://hivesensenodejs.azurewebsites.net/feed?hivecam'>.../feed?hivecam</a>

					<h5>Recent Data</h5>
					?recent=[options]<br />
					options: number followed by period-type: h,d or m (hours, days, months)<br />
					e.g. <a href='http://hivesensenodejs.azurewebsites.net/feed?recent=0.8h'>.../feed?recent=0.8h</a>
					<br />In the response, timestamps are UTC and in millisecond
					<a href="http://en.wikipedia.org/wiki/Unix_time"> Unix time </a>.
					<h5>Format</h5>
					Add &amp;format=[json,xml,csv] to either current or recent data (default is json)<br />
					e.g. <a href='http://hivesensenodejs.azurewebsites.net/feed?recent=2d&amp;format=csv'>.../feed?recent=2d&amp;format=csv</a>

				</div>
				<div class="span8">
					Sortable, aggregateable tables coming soon. Maybe.
				</div>
			</div>
		</div>
		<div class="hiddenTab container" id="graphs">
			<h1 id="top4">Recent Graphs</h1>
			<div class="row">
				<div class="span2">
					<div id="graphs-options-variables">
						<h5>Variables</h5>
					</div>
					<div id="graphs-options-periods">
						<h5>Period</h5>
						<label class="radio"><input type="radio" name="period" value="now" />3 hrs</label>
						<label class="radio"><input type="radio" name="period" value="day" checked />Day</label>
						<label class="radio"><input type="radio" name="period" value="week" checked />Week</label>
						<label class="radio"><input type="radio" name="period" value="month" />Month</label>
					</div>
				</div>
				<div class="span10">
					<div id="sensor-graph-main"></div>
				</div>
			</div>
		</div>


		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span12 footer">
					<div>HiveSenseV1</div>
					<div>&copy; 2013 Ben Lee-Rodgers, UCL, London</div>
					<div><a href="#top">Top</a> | Contact: b.lee-rodgers.12 [at] ucl.ac.uk</div>
					<div>Caution: Site is under development; data may be faked for testing purposes</div>
				</div>
			</div>
		</div>

		<!-- External or imported Libraries for utility, graphing and UI/UX purposes -->
		<script src="http://code.jquery.com/jquery.js"></script>
		<script src="js/libs/bootstrap.min.js"></script>
		<script src="js/libs/jquery.dateFormat-1.0.js"></script> <!-- Source: https://github.com/phstc/jquery-dateFormat -->
		<script src="js/libs/flotGraphs/jquery.flot.js"></script>
		<script src="js/libs/flotGraphs/jquery.flot.time.js"></script>

		<!-- Homemade scripts for this project -->
		<script src="js/util.js"></script>
		<script src="js/Model.js"></script>
		<script src="js/graphs.js"></script>
		<script src="js/View.js"></script>
		<script src="js/Controller.js"></script>
		<script src="js/main.js"></script>

    </body>
</html>